function debounceSearchPermission(e,t,i){var n;return function(){var s=this,r=arguments,a=function(){n=null,i||e.apply(s,r)},u=i&&!n;clearTimeout(n),n=setTimeout(a,t),u&&e.apply(s,r)}}function initPermissionsPicker(e){if(e){var t=e.id,n=JSON.parse(e.dataset.selectedItems||"[]"),s=JSON.parse(e.dataset.allItems||"[]"),r=JSON.parse(e.dataset.multiple),a=debounceSearchPermission((function(e,t){e.isLoading=!0,e.options=s.filter((function(e){return t?e.id.includes(t):e})),e.isLoading=!1}),250),u=Vue.component("vue-multiselect",window.VueMultiselect.default),o=new Vue({el:"#"+t,components:{"vue-multiselect":u},data:{value:null,arrayOfItems:n,options:[]},computed:{selectedIds:function(){return this.arrayOfItems.map((function(e){return e.id})).join(",")},isDisabled:function(){return this.arrayOfItems.length>0&&!r}},watch:{selectedIds:function(){setTimeout((function(){$(document).trigger("contentpreview:render")}),100)}},created:function(){this.asyncFind()},methods:{asyncFind:function(e){a(this,e)},onSelect:function(e,t){for(i=0;i<this.arrayOfItems.length;i++)if(this.arrayOfItems[i].id===e.id)return;this.arrayOfItems.push(e)},remove:function(e){this.arrayOfItems.splice(this.arrayOfItems.indexOf(e),1)}}}),c=new CustomEvent("vue-multiselect-permission-picker-created",{detail:{vm:o}});document.querySelector("body").dispatchEvent(c)}}
